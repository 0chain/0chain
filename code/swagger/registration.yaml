swagger: '2.0'
info:
  version: 0.0.0
  title: Miner Servlet
host: 'localhost:8080'
basePath: /registration
schemes:
  - http
paths:
  /accept_client:
    get:
      tags:
        - minerAcceptClient
      description: |
        Gets a table of `Client` objects.
      produces:
        - application/json
      responses:
        '200':
          description: Successful response
          schema:
            title: ClientTable
            type: array
            items:
              $ref: '#/definitions/client'
    post:
      tags:
        - minerAcceptClient
      description: |
        Sends `Client` object for validation and registration.
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/client'
      responses:
        '200':
          description: Client denied
          schema:
            $ref: '#/definitions/reply'
        '201':
          description: Client added to miner's client list
          schema:
            $ref: '#/definitions/reply'
        '208':
          description: Client ID has already been registered
          schema:
            $ref: '#/definitions/reply'
        '418':
          description: I'm a teapot
          schema:
            $ref: '#/definitions/reply'
definitions:
  client:
    type: object
    properties:
      public_key:
        type: string
      clientID:
        type: string
      signature:
        type: string
  reply:
    type: object
    properties:
      name:
        type: string
      message:
        type: string
