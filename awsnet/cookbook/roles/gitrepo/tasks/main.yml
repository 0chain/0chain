---
- name: "Creating 0chain zip file...{{zchain.git}}"
  git:
    repo: "{{zchain.git.repo}}"
    dest: "{{zchain.git.staging}}"
    archive: "{{zchain.git.zip}}"
    version: "{{zchain.git.version}}"
    force: yes
  register: result
  tags: ['gitrepo-assemble-local']

- debug:
    msg: "Git extract Results: {{zchain.git}} result={{result}}"
  tags: ['gitrepo-assemble-local']

- debug:
    msg: "Replicate 0chain zip file...{{zchain.git}}"
  tags: ['gitrepo-assemble-remote']

- name: "Copy and extract {{zchain.git.zip}} to the remote machine..."
  unarchive:
    src: "{{zchain.git.zip}}"
    dest: "{{artifact.zchain.base}}/0chain"
    remote_src: no
  register: result
  tags: ['gitrepo-assemble-remote']


- name: "Delete the git repository.."
  file:
    dest: "{{artifact.zchain.base}}/0chain"
    state: absent
  tags: ['gitrepo-teardown-remote']

- debug:
    msg: "Extract {{zchain.git.zip}} result={{result}}"
  tags: ['gitrepo-assemble-remote']
...