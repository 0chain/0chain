---
- name: "Show the instance tags..."
  debug: "msg={{agents_dict}}"

- name:
  set_fact:
    instance_tags: "{{agents_dict}}"

- name: "Collect the network name..."
  set_fact:
    instance_tags:
      "{{
        instance_tags |
        combine({
          item.key:{
            'region': item.value.region,
            'network_type': blueprint.network_type,
            'network_name': blueprint.network_name,
            'role': item.value.role,
            'Name': item.key
          }
        })
      }}"
  with_dict: "{{agents_dict}}"

- name: "Set the network tag name..."
  set_fact:
    tag_network_name: "tag_network_name_{{blueprint.network_name}}"

- name: "Show the instance tags..."
  debug: "msg={{instance_tags}}"
...