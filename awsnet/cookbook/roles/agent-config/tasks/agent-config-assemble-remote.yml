---
- name: "Copy the base configuration files such as redis/cassandra"
  become: yes
  synchronize:
    src: "/0chain/0chain/config"
    dest: "{{zchain_config.dir.zchain}}"
    recursive: yes
  delegate_to: "{{ inventory_hostname }}"

- set_fact:
    local_config: "{{zchain_config.dir.local}}/{{zchain_config.file}}"
    remote_config: "{{zchain_config.dir.zchain}}/{{zchain_config.file}}"

- debug:
    msg: "local={{local_config}} remote={{remote_config}}"

- name: "Transport config file to the agents"
  become: yes
  synchronize:
    src: "{{local_config}}"
    dest: "{{remote_config}}"
    use_ssh_args: yes
    recursive: yes

- name: "Alter ownership to 0chain"
  become: yes
  file:
    path: "{{zchain_config.dir.zchain}}"
    owner: 0chain
    group: 0chain
    mode: "u=rwX,g=rX,o=rX"
...